plugins {
    id 'java'
}

sourceSets {
    integrationTest {
        java {
            compileClasspath += main.output + test.output
            runtimeClasspath += main.output + test.output
        }
    }
}

configurations {
    integrationTestCompile {
        extendsFrom testCompile
    }
    integrationTestRuntime {
        extendsFrom testRuntime
    }
}

dependencies {
    compile project(':marytts-common')
    compile project(':marytts-signalproc')
    compile group: 'com.google.guava', name: 'guava', version: '14.0.1'
    compile group: 'com.ibm.icu', name: 'icu4j', version: '54.1.1'
    compile group: 'com.twmacinta', name: 'fast-md5', version: '2.7.1'
    compile group: 'commons-collections', name: 'commons-collections', version: '3.2.2'
    compile group: 'de.dfki.lt.jtok', name: 'jtok-core', version: '1.9.3'
    compile group: 'de.dfki.mary', name: 'emotionml-checker-java', version: '1.1'
    compile group: 'net.sf.trove4j', name: 'trove4j', version: '2.0.2'
    compile group: 'org.apache.httpcomponents', name: 'httpcore', version: '4.1'
    compile group: 'org.apache.httpcomponents', name: 'httpcore-nio', version: '4.1'
    compile group: 'org.apache.opennlp', name: 'opennlp-tools', version: '1.5.3'
    compile group: 'org.hsqldb', name: 'hsqldb', version: '2.0.0'
    testCompile project(path: ':marytts-common', configuration: 'testCompile')
    testCompile group: 'org.easytesting', name: 'fest-assert', version: '1.4'
}

task integrationTest(type: Test) {
    group 'Verification'
    description 'Runs the integration tests.'
    check.dependsOn it
    testClassesDir = sourceSets.integrationTest.output.classesDir
    classpath = sourceSets.integrationTest.runtimeClasspath
}
